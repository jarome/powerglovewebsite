!function(e,t){var a={ratio:16/9,videoId:"",mute:!1,repeat:!0,width:e(t).width(),wrapperZIndex:99,playButtonClass:"tubular-play",pauseButtonClass:"tubular-pause",muteButtonClass:"tubular-mute",volumeUpClass:"tubular-volume-up",volumeDownClass:"tubular-volume-down",increaseVolumeBy:10,start:0},i=function(i,n){var n=e.extend({},a,n),o=e("body");$node=e(i);var l='<div id="tubular-container" style="overflow: hidden; position: fixed; z-index: 1; width: 100%; height: 100%"><div id="tubular-player" style="position: absolute"></div></div><div id="tubular-shield" style="width: 100%; height: 100%; z-index: 2; position: absolute; left: 0; top: 0;"></div>';e("html,body").css({width:"100%",height:"100%"}),o.prepend(l),$node.css({position:"relative","z-index":n.wrapperZIndex}),t.player,t.onYouTubeIframeAPIReady=function(){player=new YT.Player("tubular-player",{width:n.width,height:Math.ceil(n.width/n.ratio),videoId:n.videoId,playerVars:{controls:0,showinfo:0,modestbranding:1,wmode:"transparent"},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})},t.onPlayerReady=function(e){r(),n.mute&&e.target.mute(),e.target.seekTo(n.start),e.target.playVideo()},t.onPlayerStateChange=function(t){if(0===t.data&&n.repeat&&player.seekTo(n.start),1===t.data){var a=e(".js-refresh-video");a.hasClass("is-loading")&&a.removeClass("is-loading")}};var r=function(){var a,i,o=e(t).width(),l=e(t).height(),r=e("#tubular-player");o/n.ratio<l?(a=Math.ceil(l*n.ratio),r.width(a).height(l).css({left:(o-a)/2,top:0})):(i=Math.ceil(o/n.ratio),r.width(o).height(i).css({left:0,top:(l-i)/2}))};e(t).on("resize.tubular",function(){r()}),e("body").on("click","."+n.playButtonClass,function(e){e.preventDefault(),player.playVideo()}).on("click","."+n.pauseButtonClass,function(e){e.preventDefault(),player.pauseVideo()}).on("click","."+n.muteButtonClass,function(e){e.preventDefault(),player.isMuted()?player.unMute():player.mute()}).on("click","."+n.volumeDownClass,function(e){e.preventDefault();var t=player.getVolume();t<n.increaseVolumeBy&&(t=n.increaseVolumeBy),player.setVolume(t-n.increaseVolumeBy)}).on("click","."+n.volumeUpClass,function(e){e.preventDefault(),player.isMuted()&&player.unMute();var t=player.getVolume();t>100-n.increaseVolumeBy&&(t=100-n.increaseVolumeBy),player.setVolume(t+n.increaseVolumeBy)})},n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),e.fn.tubular=function(t){return this.each(function(){e.data(this,"tubular_instantiated")||e.data(this,"tubular_instantiated",i(this,t))})}}(jQuery,window);